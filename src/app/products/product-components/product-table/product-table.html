<div class="buttondiv">
  <p class="text-2xl font-bold ">
    Product Data Table
  </p>
  @if(dataService.getLocalUserRole()?.toString() === 'superadmin'){
  <button (click)="onAdd()" matButton="elevated" >Add Product</button>
  }
</div>
<div class="p-4">
  <table class="table-auto p-4 ">
    <thead class=" border-b border-b-gray-400 ">
      <tr>
        <th class="text-left py-5">Id.</th>
        <th class="text-left py-5">Product</th>
        <th class="text-left py-5">Price</th>
        <th class="text-left py-5">Category</th>
        <th class="text-left py-5">Details</th>
        <th class="text-left py-5">Actions</th>
      </tr>
    </thead>
    <tbody>
      @for(data of currentPageData; track data.id){
      <tr class=" border-b border-b-gray-400 ">
        <td class="py-4 font-extralight">{{data.id}}</td>
        <td class="py-4 font-extralight">{{data.product_name}}</td>
        <td class="py-4 font-extralight">{{data.product_price}}</td>
        <td class="py-4 font-extralight">{{data.product_category}}</td>
        <td class="py-4 font-extralight">{{data.product_description}}</td>
        <td class="font-extralight">
          <button class="ml-3 cursor-pointer" (click)="onEdit(data)">
            <span class="text-blue-300">
              <mat-icon>edit</mat-icon>
            </span>
          </button>
          <button class="ml-3 cursor-pointer" (click)="onDelete(data.id)">
            <span class="text-red-300">
              <mat-icon>delete</mat-icon>
            </span>
          </button>
        </td>
      </tr>
      }
    </tbody>
  </table>
  <!-- pagination code -->
  <div class="flex justify-end items-center gap-4 px-8 py-8">
    <span class="text-sm font-light">Items per page :</span>
    <!-- (selectionchange)="setItemsPerPage()" -->
    <!-- (select)="setItemsPerPage()" -->
    <!-- (onclick)="setItemsPerPage()" -->
    <select class="border p-2 rounded-md w-20  " [formControl]="itemsPerPage" 
    (change)="setItemsPerPage()"
    >
      <option [value]="5">5</option>
      <option [value]="10">10</option>
      <option [value]="20">20</option>
    </select>

    <span class="text-sm font-light">{{ displayStartIndex }} - {{ endIndex }} of {{ totalItems() }}</span>

    <button class="rounded-full hover:bg-white/10 border pt-1.5 px-1 text-xs ">
      <mat-icon>first_page</mat-icon></button>
    <button class="rounded-full hover:bg-white/10 border pt-1.5 px-1 text-xs " (click)="previousPage()" [disabled]="currentPage === 1">
      <mat-icon>keyboard_arrow_left</mat-icon></button>
    <button class="rounded-full hover:bg-white/10 border pt-1.5 px-1 text-xs " (click)="nextPage()" [disabled]="endIndex >= totalItems()">
      <mat-icon>keyboard_arrow_right</mat-icon></button>
    <button class="rounded-full hover:bg-white/10 border pt-1.5 px-1 text-xs ">
      <mat-icon>last_page</mat-icon></button>

    <!-- <span>Items @if(!dataSource) {
      {{ startIndex }}
      } @else {
      {{ startIndex + 1 }}
      } - {{ endIndex }} of {{ totalItems() }}</span> -->

    <!-- <button (click)="previousPage()" [disabled]="currentPage === 1">
      ‹
    </button>
    <button (click)="nextPage()" [disabled]="endIndex >= totalItems()">
      ›
    </button> -->
  </div>
  <!-- pagination code end -->
</div>


<!-- rough code -->
<!-- <bu p-4lass="transition delay-20 duration-2000 ease-linear hover:-translate-y-1 hover:scale-100 bg-cyan-500 shadow-sm shadow-cyan-500/50 rounded-full p-3 hover:shadow-md ">Add
  Product</button> -->
<!-- <button class="bg-cyan-500 shadow-sm shadow-cyan-500/50 rounded-full p-3 hover:shadow-md ">Add Product</button> -->
<!-- <div
  class="flex items-center w-100  gap-4 rounded-lg bg-white p-6 shadow-md outline outline-black/5 dark:bg-gray-800">
  <span
    class=" before:content-['hello\_world'] inline-flex shrink-0 rounded-full border ring-2 ring-amber-500 border-pink-300 bg-pink-100 p-2 dark:border-pink-300/10 dark:bg-pink-400/10">
    <div class="size-6 stroke-pink-700 dark:stroke-pink-500">
      <mat-icon class="stroke-pink-700">notification_important</mat-icon>
    </div>
    
  </span>
  <div>
    <p class="text-gray-700 dark:text-gray-400 text-lg/8 antialiased font-extralight ">
      <span class="font-medium text-gray-950 dark:text-white">Tom Watson</span> mentioned you in
      <span class="font-medium text-gray-950 dark:text-white">Logo redesign</span>
    </p>
    <time class="mt-1 block text-gray-500" datetime="9:37">9:37am</time>
  </div>
</div> -->
<!-- <div class="grid grid-cols-6 grid-rows-3 gap-1 m-3 w-full ">
  <div class="col-span-4 col-start-2 bg-blue-600 h-full rounded-md w-full items-center justify-center align-middle ">
    01</div>
  <div
    class="col-start-1 col-end-3 row-span-6 bg-blue-600 h-full rounded-md w-full items-center justify-center align-middle ">
    02</div>
  <div class="col-span-2 col-end-7 bg-blue-600 h-full rounded-md w-full items-center justify-center align-middle ">03
  </div>
  <div
    class="col-start-1 col-end-7 row-span-10 bg-blue-600 h-full rounded-md w-full items-center justify-center align-middle ">
    04</div>
</div> -->
<!-- <article>
  <time>Mar 10, 2020</time>
  <h2>Boost your conversion rate</h2>
  <p
    class=" hyphens-auto line-clamp-3 text-justify text-red-600 md:text-green-600 capitalize truncate text-ellipsis text-wrap indent-10 ">
    nulla dolor velit adipisicing duis excepteur esse in duis nostrud occaecat mollit incididunt&shy; deserunt sunt.
    Ut ut
    sunt laborum ex occaecat eu <a
      class=" before:content-['_↗'] underline decoration-pink-500 hover:decoration-2 underline-offset-4 ">tempor
      labore enim adipisicing minim ad. Est in quis eu dolore occaecat excepteur fugiat
      dolore nisi aliqua fugiat enim ut cillum.</a> labore enim duis nostrud eu. Est ut eiusmod consequat irure quis
    deserunt
    ex. enim laboris dolor magna pariatur. dolor et ad sint voluptate sunt elit mollit officia ad enim sit consectetur
    enim.
  </p>
</article> -->
<!-- 
  <div class="flex flex-row justify-between align-middle items-center w-100 mb-7">
    <button class="bg-blue-500 shadow-lg shadow-blue-500/50 rounded-lg p-3  hover:shadow-2xl">Subscribe</button>
    <button class="bg-indigo-500 shadow-lg shadow-indigo-500/50 rounded-lg p-3  hover:shadow-2xl">Subscribe</button>
  </div> -->
<!-- <div class="flex items-center gap-5 rounded-xl bg-white p-4 shadow-lg ring-1 ring-black/5 dark:bg-gray-800 w-100">
  <div class="grid grid-cols-1 grid-rows-1">
    <div
      class="col-start-1 row-start-1 size-12 rounded-full border-4 border-gray-100 mask-conic-from-100% mask-conic-to-100% dark:border-gray-700 ">
    </div>
    <div
      class="col-start-1 row-start-1 size-12 rounded-full border-4 border-amber-500 mask-conic-from-75% mask-conic-to-75% dark:border-amber-400">
    </div>
  </div>
  <div class="w-0 flex-1 text-sm text-gray-950 dark:text-white">
    <p class="font-medium">Storage used: 75%</p>
    <p class="mt-1 text-gray-500 dark:text-gray-400"><span class="font-medium">0.48 GB</span> out of 2 GB remaining
    </p>
  </div>
</div> -->